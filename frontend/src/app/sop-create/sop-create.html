<div class="sop-create-container">
  <div class="page-header">
    <h1 class="page-title">
      <i class="fas fa-plus"></i>
      Create New SOP
    </h1>
  </div>

  <form (ngSubmit)="createSOP()" class="sop-form">
    <div class="form-section">
      <h2>Basic Information</h2>
      
      <div class="form-group">
        <label for="title">Title *</label>
        <input 
          type="text" 
          id="title"
          [(ngModel)]="sopData.title" 
          name="title"
          class="form-control"
          placeholder="Enter SOP title"
          required>
      </div>

      <div class="form-group">
        <label for="process">Process</label>
        <input 
          type="text" 
          id="process"
          [(ngModel)]="sopData.process" 
          name="process"
          class="form-control"
          placeholder="Enter process name">
      </div>
    </div>

    <div class="form-section">
      <h2>Documents & URL (Optional)</h2>
      
      <div class="form-group">
        <label for="sopUrl">SOP URL</label>
        <input 
          type="url" 
          id="sopUrl"
          [(ngModel)]="sopData.sopUrl" 
          name="sopUrl"
          class="form-control"
          placeholder="https://example.com/sop">
        <p class="form-hint">Enter a URL to the SOP (e.g., external link or cloud storage link)</p>
      </div>
      
      <div class="file-upload">
        <input 
          type="file" 
          id="documents"
          multiple 
          (change)="onFileSelect($event)"
          accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,.jpg,.jpeg,.png,.gif,.webp,.mp4,.mov,.avi,.wmv"
          class="file-input">
        
        <label for="documents" class="file-input-label">
          <i class="fas fa-cloud-upload-alt"></i>
          Choose Documents/Video
        </label>
        
        <p class="file-info">
          Upload documents or video (PDF, Word, Excel, PowerPoint, Text, Images, Video files)
        </p>
      </div>

      <div class="selected-files" *ngIf="selectedFiles && selectedFiles.length > 0">
        <h4>Selected Files:</h4>
        <ul>
          <li *ngFor="let file of getSelectedFileArray()">
            <i class="fas fa-file"></i>
            {{ file.name }}
          </li>
        </ul>
      </div>
    </div>

    <div class="error-message" *ngIf="error">
      <i class="fas fa-exclamation-triangle"></i>
      {{ error }}
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="loading">
        <i class="fas fa-spinner fa-spin" *ngIf="loading"></i>
        <i class="fas fa-save" *ngIf="!loading"></i>
        {{ loading ? 'Creating...' : 'Create SOP' }}
      </button>
      
      <button 
        type="button" 
        class="btn btn-outline-secondary"
        (click)="cancel()"
        [disabled]="loading">
        <i class="fas fa-times"></i>
        Cancel
      </button>
    </div>
  </form>
</div>
